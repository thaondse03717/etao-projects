<!DOCTYPE html>
<head>
	<title>偏好设置 - 宝贝下线助手</title>
	<link type="text/css" rel="stylesheet" href="css/style.css" />
	<script type="text/javascript" src="js/jquery.1.6.2.min.js"></script>
	<script type="text/javascript" src="js/assistant.js"></script>
</head>
<body>

<script type="text/javascript">
$(document).ready(function () {

	$('#submit').click(setOptions);
	$('#restore').click(restoreOptions);
	getOptions();

	function setOptions() {
		assistant.setOption('selector_entry', $('#selector_entry').attr('value'));
		assistant.setOption('selector_link', $('#selector_link').attr('value'));
		assistant.setOption('selector_title', $('#selector_title').attr('value'));
		assistant.setOption('server_url', $('#server_url').attr('value'));
		assistant.setOption('auto_extract', $('#auto_extract')[0].checked);
		assistant.setOption('auto_memo', $('#auto_memo')[0].checked);
		assistant.notify('自定义设置已经保存', 'success');
	}

	function restoreOptions() {
		$('#selector_entry').attr('value', assistant.defaults['selector_entry']);
		$('#selector_link').attr('value', assistant.defaults['selector_link']);
		$('#selector_title').attr('value', assistant.defaults['selector_title']);
		$('#server_url').attr('value', assistant.defaults['server_url']);
		if (assistant.defaults['auto_extract'] == true) {
			$('#auto_extract').attr('checked', true);
		}
		if (assistant.defaults['auto_memo'] == true) {
			$('#auto_memo').attr('checked', true);
		}
		assistant.notify('已经恢复到工具默认的设置', 'success');
	}

	function getOptions() {
		$('#selector_entry').attr('value', assistant.getOption('selector_entry'));
		$('#selector_link').attr('value', assistant.getOption('selector_link'));
		$('#selector_title').attr('value', assistant.getOption('selector_title'));
		$('#server_url').attr('value', assistant.getOption('server_url'));
		if (assistant.getOption('auto_extract') == true) {
			$('#auto_extract').attr('checked', true);
		}
		if (assistant.getOption('auto_memo') == true) {
			$('#auto_memo').attr('checked', true);
		}
		console.log(assistant.getOption('auto_memo'));
		console.log(assistant.getOption('auto_extract'));
	}

});
</script>

<div class="options main">

	<fieldset>
		<legend>配置宝贝下架助手</legend>
		<div class="input">
			<label>商品选择器</label>
			<input type="text" id="selector_entry" name="selector_entry" class="text" />
		</div>

		<div class="input">
			<label>连接选择器</label>
			<input type="text" id="selector_link" name="selector_link" class="text" />
		</div>

		<div class="input">
			<label>标题选择器</label>
			<input type="text" id="selector_title" name="selector_title" class="text" />
		</div>

		<div class="input">
			<label>服务器地址</label>
			<input type="text" id="server_url" name="server_url" class="text" />
		</div>

		<div class="input">
			<label>其他选项</label>
			<input type="checkbox" name="auto_extract" id="auto_extract" value="1" />
			<label for="auto_extract" class="inline">打开宝贝下架助手时自动抽取NID?</label>
		</div>

		<div class="input">
			<label>&nbsp;</label>
			<input type="checkbox" name="auto_memo" id="auto_memo" value="1" />
			<label for="auto_memo" class="inline">记住上次操作时填写的下架原因?</label>
		</div>

		<div class="input" style="margin-top: 1em;">
			<label>&nbsp;</label>
			<a href="javascript:void(0)" id="submit" class="button" style="margin-right: 1em;">保存选项</a>
			<a href="javascript:void(0)" id="restore" class="button current">恢复默认</a>
		</div>

	</fieldset>

	<p class="footer">宝贝下架助手 v1.0 by <a href="mailto:wangshijun2010@gmail.com">wangshijun2010@gmail.com</a></p>

</div>

</body>
</html>